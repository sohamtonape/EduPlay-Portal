<!DOCTYPE html>
<!-- Coding By CodingNepal - youtube.com/codingnepal -->
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Typing Speed Test Game | CodingNepal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      /* Import Google Font - Poppins */
      @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Poppins', sans-serif;
      }
      body {
        display: flex;
        padding: 0 10px;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background: #17A2B8;
      }
      ::selection {
        color: #fff;
        background: #17A2B8;
      }
      .wrapper {
        width: 770px;
        padding: 35px;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 10px 15px rgba(0,0,0,0.05);
      }
      .wrapper .input-field {
        opacity: 0;
        z-index: -999;
        position: absolute;
      }
      .wrapper .content-box {
        padding: 13px 20px 0;
        border-radius: 10px;
        border: 1px solid #bfbfbf;
      }
      .content-box .typing-text {
        overflow: hidden;
        max-height: 256px;
      }
      .typing-text::-webkit-scrollbar {
        width: 0;
      }
      .typing-text p {
        font-size: 21px;
        text-align: justify;
        letter-spacing: 1px;
        word-break: break-all;
      }
      .typing-text p span {
        position: relative;
      }
      .typing-text p span.correct {
        color: #56964f;
      }
      .typing-text p span.incorrect {
        color: #cb3439;
        outline: 1px solid #fff;
        background: #ffc0cb;
        border-radius: 4px;
      }
      .typing-text p span.active {
        color: #17A2B8;
      }
      .typing-text p span.active::before {
        position: absolute;
        content: "";
        height: 2px;
        width: 100%;
        bottom: 0;
        left: 0;
        opacity: 0;
        border-radius: 5px;
        background: #17A2B8;
        animation: blink 1s ease-in-out infinite;
      }
      @keyframes blink {
        50% {
          opacity: 1;
        }
      }
      .content-box .content {
        margin-top: 17px;
        display: flex;
        padding: 12px 0;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        border-top: 1px solid #bfbfbf;
      }
      .content button {
        outline: none;
        border: none;
        width: 105px;
        color: #fff;
        padding: 8px 0;
        font-size: 16px;
        cursor: pointer;
        border-radius: 5px;
        background: #17A2B8;
        transition: transform 0.3s ease;
      }
      .content button:active {
        transform: scale(0.97);
      }
      .content .result-details {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        width: calc(100% - 140px);
        justify-content: space-between;
      }
      .result-details li {
        display: flex;
        height: 20px;
        list-style: none;
        position: relative;
        align-items: center;
      }
      .result-details li:not(:first-child) {
        padding-left: 22px;
        border-left: 1px solid #bfbfbf;
      }
      .result-details li p {
        font-size: 19px;
      }
      .result-details li span {
        display: block;
        font-size: 20px;
        margin-left: 10px;
      }
      li span b {
        font-weight: 500;
      }
      li:not(:first-child) span {
        font-weight: 500;
      }
      @media (max-width: 745px) {
        .wrapper {
          padding: 20px;
        }
        .content-box .content {
          padding: 20px 0;
        }
        .content-box .typing-text {
          max-height: 100%;
        }
        .typing-text p {
          font-size: 19px;
          text-align: left;
        }
        .content button {
          width: 100%;
          font-size: 15px;
          padding: 10px 0;
          margin-top: 20px;
        }
        .content .result-details {
          width: 100%;
        }
        .result-details li:not(:first-child) {
          border-left: 0;
          padding: 0;
        }
        .result-details li p, 
        .result-details li span {
          font-size: 17px;
        }
      }
      @media (max-width: 518px) {
        .wrapper .content-box {
          padding: 10px 15px 0;
        }
        .typing-text p {
          font-size: 18px;
        }
        .result-details li {
          margin-bottom: 10px;
        }
        .content button {
          margin-top: 10px;
        }
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <input type="text" class="input-field">
      <div class="content-box">
        <div class="typing-text">
          <p></p>
        </div>
        <div class="content">
          <ul class="result-details">
            <li class="time">
              <p>Time Left:</p>
              <span><b>60</b>s</span>
            </li>
            <li class="mistake">
              <p>Mistakes:</p>
              <span>0</span>
            </li>
            <li class="wpm">
              <p>WPM:</p>
              <span>0</span>
            </li>
            <li class="cpm">
              <p>CPM:</p>
              <span>0</span>
            </li>
          </ul>
          <button>Try Again</button>
        </div>
      </div>
    </div>

    <script>
      const paragraphs = [
        "Authors often misinterpret the lettuce as a folklore rabbi, when in actuality it feels more like an uncursed bacon. Pursued distances show us how mother-in-laws can be charleses. Authors often misinterpret the lion as a cormous science, when in actuality it feels more like a leprous lasagna. Recent controversy aside, their band was, in this moment, a racemed suit. The clutch of a joke becomes a togaed chair. The first pickled chess is.",
        "In modern times the first scrawny kitten is, in its own way, an input. An ostrich is the beginner of a roast. An appressed exhaust is a gun of the mind. A recorder is a grade from the right perspective. A hygienic is the cowbell of a skin. Few can name a dun brazil that isn't a highbrow playroom. The unwished beast comes from a thorny oxygen. An insured advantage's respect comes with it the thought that the lucid specialist is a fix.",
        "In ancient times the legs could be said to resemble stroppy vegetables. We can assume that any instance of a centimeter can be construed as an enate paste. One cannot separate pairs from astute managers. Those americas are nothing more than fish. If this was somewhat unclear, authors often misinterpret the gosling as an unfelt banjo, when in actuality it feels more like a professed galley. A bow of the squirrel is assumed.",
        "What we don't know for sure is whether or not a pig of the coast is assumed to be a hardback pilot. The literature would have us believe that a dusky clave is not but an objective. Few can name a limbate leo that isn't a sunlit silver. The bow is a mitten. However, the drawer is a bay. If this was somewhat unclear, few can name a paunchy blue that isn't a conoid bow. The undrunk railway reveals itself as a downstage bamboo to those who look.",
        "Their politician was, in this moment, a notour paperback. The first armless grouse is, in its own way, a gear. The coat is a wash. However, a cake is the llama of a caravan. Snakelike armies show us how playgrounds can be viscoses. Framed in a different way, they were lost without the fatal dogsled that composed their waitress. Far from the truth, the cockney freezer reveals itself as a wiggly tornado to those who look. The first hawklike sack.",
        "An aunt is a bassoon from the right perspective. As far as we"
      ];
    </script>
    <script>
      const typingText = document.querySelector(".typing-text p"),
      inpField = document.querySelector(".input-field"),
      tryAgainBtn = document.querySelector("button"),
      timeTag = document.querySelector(".time b"),
      mistakeTag = document.querySelector(".mistake span"),
      wpmTag = document.querySelector(".wpm span"),
      cpmTag = document.querySelector(".cpm span");

      let timer,
          maxTime = 60,
          timeLeft = maxTime,
          charIndex = mistakes = isTyping = 0;

      function randomParagraph() {
        let randIndex = Math.floor(Math.random() * paragraphs.length);
        typingText.innerHTML = "";
        paragraphs[randIndex].split("").forEach(span => {
          let spanTag = `<span>${span}</span>`;
          typingText.innerHTML += spanTag;
        });
        typingText.querySelectorAll("span")[0].classList.add("active");
        document.addEventListener("keydown", () => inpField.focus());
        typingText.addEventListener("click", () => inpField.focus());
      }

      function initTyping() {
        const characters = typingText.querySelectorAll("span");
        let typedChar = inpField.value.split("")[charIndex];
        if(charIndex < characters.length - 1 && timeLeft > 0) {
          if(!isTyping) {
            timer = setInterval(initTimer, 1000);
            isTyping = true;
          }

          if(typedChar == null) {
            if(charIndex > 0) {
              charIndex--;
              if(characters[charIndex].classList.contains("incorrect")) {
                mistakes--;
              }
              characters[charIndex].classList.remove("correct", "incorrect");
            }
          } else {
            if(characters[charIndex].innerText === typedChar) {
              characters[charIndex].classList.add("correct");
            } else {
              mistakes++;
              characters[charIndex].classList.add("incorrect");
            }
            charIndex++;
          }

          characters.forEach(span => span.classList.remove("active"));
          characters[charIndex].classList.add("active");

          let wpm = Math.round(((charIndex - mistakes) / 5) / (maxTime - timeLeft) * 60);
          wpm = wpm < 0 || !wpm || wpm === Infinity ? 0 : wpm;
          mistakeTag.innerText = mistakes;
          wpmTag.innerText = wpm;
          cpmTag.innerText = charIndex - mistakes;
        } else {
          clearInterval(timer);
          inpField.value = "";
        }
      }

      function initTimer() {
        if(timeLeft > 0) {
          timeLeft--;
          timeTag.innerText = timeLeft;
        } else {
          clearInterval(timer);
        }
      }

      function resetGame() {
        randomParagraph();
        inpField.value = "";
        clearInterval(timer);
        timeLeft = maxTime;
        charIndex = mistakes = isTyping = 0;
        timeTag.innerText = timeLeft;
        mistakeTag.innerText = mistakes;
        wpmTag.innerText = 0;
        cpmTag.innerText = 0;
      }

      randomParagraph();
      inpField.addEventListener("input", initTyping);
      tryAgainBtn.addEventListener("click", resetGame);
    </script>
  </body>
</html>
